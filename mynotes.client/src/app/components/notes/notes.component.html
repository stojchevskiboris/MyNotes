<div class="container py-4">

    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="m-0">User Notes</h1>
      <button class="btn btn-primary" (click)="addNote()">Add Note</button>
    </div>
  
    <!-- PINNED -->
    <div *ngIf="pinnedNotes.length > 0" class="mb-5">
      <h2 class="mb-3">Pinned Notes</h2>
  
      <div class="row g-3">
        <div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let note of pinnedNotes">
          <div class="card note-card h-100" [style.backgroundColor]="note.colorTag">
            <div class="card-body">
              <h5 class="card-title">{{ note.title }}</h5>
              <p class="card-text">{{ note.content }}</p>
            </div>
            <div class="card-footer d-flex flex-column small text-muted">
              <span>Tags: {{ note.tags.join(', ') }}</span>
              <span>Last Modified: {{ note.modifiedAt | date:'short' }}</span>
            </div>
            <div class="card-footer d-flex gap-2">
              <button class="btn btn-sm btn-light" (click)="editNote(note.id)">Edit</button>
              <button class="btn btn-sm btn-warning" (click)="archiveNote(note.id)">Archive</button>
              <button class="btn btn-sm btn-danger" (click)="deleteNote(note.id)">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- OTHER NOTES -->
    <div *ngIf="otherNotes.length > 0" class="mb-5">
      <h2 class="mb-3">Other Notes</h2>
  
      <div class="row g-3">
        <div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let note of otherNotes">
          <div class="card note-card h-100" [style.backgroundColor]="note.colorTag">
            <div class="card-body">
              <h5 class="card-title">{{ note.title }}</h5>
              <p class="card-text">{{ note.content }}</p>
            </div>
            <div class="card-footer d-flex flex-column small text-muted">
              <span>Tags: {{ note.tags.join(', ') }}</span>
              <span>Last Modified: {{ note.modifiedAt | date:'short' }}</span>
            </div>
            <div class="card-footer d-flex gap-2">
              <button class="btn btn-sm btn-light" (click)="editNote(note.id)">Edit</button>
              <button class="btn btn-sm btn-warning" (click)="archiveNote(note.id)">Archive</button>
              <button class="btn btn-sm btn-danger" (click)="deleteNote(note.id)">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- ARCHIVED -->
    <div *ngIf="archivedNotes.length > 0" class="mb-5">
      <h2 class="mb-3">Archived Notes</h2>
  
      <div class="row g-3">
        <div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let note of archivedNotes">
          <div class="card note-card h-100" [style.backgroundColor]="note.colorTag">
            <div class="card-body">
              <h5 class="card-title">{{ note.title }}</h5>
              <p class="card-text">{{ note.content }}</p>
            </div>
            <div class="card-footer d-flex flex-column small text-muted">
              <span>Tags: {{ note.tags.join(', ') }}</span>
              <span>Last Modified: {{ note.modifiedAt | date:'short' }}</span>
            </div>
            <div class="card-footer d-flex gap-2">
              <button class="btn btn-sm btn-success" (click)="unarchiveNote(note.id)">Unarchive</button>
              <button class="btn btn-sm btn-danger" (click)="deleteNote(note.id)">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </div>
  